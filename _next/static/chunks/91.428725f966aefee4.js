"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{6091:function(t,e,i){i.r(e),i.d(e,{default:function(){return x}});var s=i(7437),a=i(2265),l=t=>(0,s.jsxs)("div",{className:"flex justify-between border border-slate-800 items-center rounded p-4 mb-2.5",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 border border-slate-300 rounded appearance-none mr-2",name:t.item.name,onChange:e=>t.completeActivity(t.id,e),checked:t.checked}),(0,s.jsx)("div",{className:"text-slate-300",id:t.item.creationDate,onClick:e=>t.onSelectClick(e),children:t.item.activityName})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"underline text-slate-400",onClick:()=>t.removeActivity(t.list,t.id),children:"Delete"})})]});let c=t=>{let e=t.list.map((e,i)=>(0,s.jsx)("li",{children:(0,s.jsx)(l,{id:i,item:e,removeActivity:t.removeActivity,completeActivity:t.completeActivity,onSelectClick:t.onSelectClick,list:"activityList",checked:""})},i));return(0,s.jsx)("ul",{className:"activity-list",children:e})};var r=t=>{let{activityList:e,removeActivity:i,completeActivity:a,completedActivities:l,onSelectClick:r}=t,n=[];return n="all"!==t.filter?t.filterList(e):e,(0,s.jsx)("div",{children:(0,s.jsx)(c,{list:n,removeActivity:i,completeActivity:a,onSelectClick:r})})};class n extends a.Component{constructor(t){super(t),this.handleChange=t=>{this.setState({text:t.target.value})},this.handleSubmit=t=>{t.preventDefault(),this.props.addActivity("activityList",this.props.createActivity(this.state.text)),this.setState({text:""})},this.state={text:""},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}render(){return(0,s.jsxs)("form",{onSubmit:this.handleSubmit,className:"mt-1 mb-8",children:[(0,s.jsx)("input",{type:"text",value:this.state.text,className:"border border-slate-400 bg-slate-200 rounded-md mr-2 px-2 text-sm py-2 focus:outline-none focus:border-slate-600",onChange:this.handleChange}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-md border border-slate-800 bg-slate-800 text-slate-50 text-sm",type:"button",onClick:this.handleSubmit,children:"Add activity"})]})}}let d=t=>{let e=t.tagName===t.filter;return(0,s.jsx)("button",{className:`w-full py-2 px-4 text-left rounded ${e?"bg-slate-500":"hover:bg-slate-600"}`,"data-tag":t.tagName,onClick:e=>t.setFilter(e),children:t.tagName})},h=t=>{let e=t.tagList.map(e=>(0,s.jsx)("li",{className:"nav-item w-full mb-0.5",children:(0,s.jsx)(d,{tagName:e,setFilter:t.setFilter,filter:t.filter})},e)),i="";return i=t.hidden?"sidenav-drawer":"sidenav-drawer visible",(0,s.jsx)("ul",{id:"navbar-drawer",className:i,children:e})};var o=t=>{let[e,i]=(0,a.useState)(!0);return(0,s.jsxs)("div",{className:"sidenav",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-md font-semibold mb-4",children:"Todooly"}),(0,s.jsx)("h2",{className:"text-xs mb-2 font-light uppercase ",children:"Tags"}),(0,s.jsx)(h,{tagList:t.tagList,setFilter:t.setFilter,filter:t.filter,hidden:e})]}),(0,s.jsx)("button",{id:"nav-button",className:"sm:hidden",onClick:()=>i(!e),children:"Menu"})]})},m=t=>{let e=t.tagList.map((e,i)=>(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"tag",children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)("i",{id:e,className:"remove-tag-btn fas fa-times",onClick:e=>t.removeTag(e)})]})},i));return(0,s.jsx)("ul",{className:"tag-list",children:e})};class v extends a.Component{render(){return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("form",{onSubmit:t=>this.handleSubmit(t),children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"tags",children:"Tags"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",name:"newTag",className:"py-1 px-2 mr-2 bg-transparent border border-slate-400 rounded",id:"newTag",value:this.state.newTag,placeholder:"add tag",onChange:t=>this.handleChange(t)}),(0,s.jsx)("button",{className:"bg-blue-600 rounded py-0.5 px-2 text-white",type:"submit",value:"+",children:(0,s.jsx)("i",{className:"fas fa-plus"})})]})]})})}),(0,s.jsx)(m,{tagList:this.props.tags,removeTag:this.props.removeTag})]})}constructor(...t){super(...t),this.state={newTag:""},this.handleChange=t=>{this.setState({newTag:t.target.value})},this.handleSubmit=t=>{this.props.handleSubmit(t,this.state.newTag),this.setState({newTag:""})}}}class p extends a.Component{constructor(t){super(t),this.handleChange=t=>{this.setState({[t.target.id]:t.target.value})},this.handleSubmit=t=>{t.preventDefault(),console.log("options saved"),this.props.updateActivity({activityName:this.state.activityName,creationDate:this.state.creationDate,tags:this.state.tags,date:this.state.date,time:this.state.time},this.state.index)},this.onTagFormSubmit=(t,e)=>{t.preventDefault(),this.setState({tags:[...this.state.tags,e]}),this.props.addTag(e)},this.handleRemoveTag=t=>{this.setState({tags:this.state.tags.filter(e=>e!==t.target.id)})},this.state={activityName:this.props.activity[0].activityName,creationDate:this.props.activity[0].creationDate,tags:[...this.props.activity[0].tags],date:this.props.activity[0].date,time:this.props.activity[0].time,index:this.props.activity[1],newTag:""},this.handleChange=this.handleChange.bind(this)}render(){return(0,s.jsxs)("div",{className:"bg-slate-200 rounded-lg p-12",children:[(0,s.jsx)(v,{handleSubmit:this.onTagFormSubmit,tags:this.state.tags,removeTag:this.handleRemoveTag}),(0,s.jsxs)("form",{id:"optionsForm",className:"flex flex-col",onSubmit:t=>this.handleSubmit(t),children:[(0,s.jsx)("label",{htmlFor:"activity-name",form:"optionsForm",children:"Activity Name"}),(0,s.jsx)("input",{type:"text",name:"activityName",id:"activity-name",className:"mb-2 py-1 px-2 bg-transparent border border-slate-400 rounded",form:"optionsForm",value:this.state.activityName,onChange:t=>this.handleChange(t)}),(0,s.jsx)("label",{htmlFor:"date",form:"optionsForm",children:"Date"}),(0,s.jsx)("input",{type:"date",id:"date",className:"mb-2 py-1 px-2 bg-transparent border border-slate-400 rounded",name:"date",value:this.state.date,form:"optionsForm",onChange:t=>this.handleChange(t)}),(0,s.jsx)("label",{htmlFor:"time",form:"optionsForm",children:"Time"}),(0,s.jsx)("input",{type:"time",id:"time",className:"mb-2 py-1 px-2 bg-transparent border border-slate-400 rounded",name:"time",value:this.state.time,form:"optionsForm",onChange:t=>this.handleChange(t)}),(0,s.jsx)("input",{className:"bg-blue-600 rounded text-white py-2 px-4",type:"submit",value:"save",form:"optionsForm"})]})]})}}class u extends a.Component{constructor(t){super(t),this.createActivity=t=>({activityName:t,creationDate:Date(),tags:[],date:"",time:""}),this.addActivity=(t,e)=>{this.state[t].includes(e)||this.setState({[t]:[...this.state[t],e]})},this.removeActivity=(t,e)=>{this.setState({[t]:this.state[t].filter((t,i)=>i!==e)})},this.filterList=t=>t.filter(t=>t.tags.includes(this.state.filter)),this.completeActivity=(t,e)=>{e.target.checked?(this.setState({completedActivities:this.state.completedActivities.concat(this.state.activityList[t])}),this.removeActivity("activityList",t)):(this.addActivity("activityList",this.state.completedActivities[t]),this.setState({completedActivities:this.state.completedActivities.filter((e,i)=>i!==t)}))},this.updateActivity=(t,e)=>{let i=[...this.state.activityList];i[e]=t,this.setState({activityList:[...i],selectedActivity:[{},0],activitySelected:!1})},this.onSelectClick=t=>{let e=0,i=this.state.activityList.filter((i,s)=>i.creationDate===t.target.id&&(e=s,!0));this.setState({selectedActivity:[i[0],e],activitySelected:!0})},this.setActivitySelected=()=>{this.setState({activitySelected:!this.state.activitySelected})},this.setFilter=t=>{this.setState({filter:t.target.dataset.tag})},this.addTag=t=>{this.state.tagList.includes(t)||this.setState({tagList:[...this.state.tagList,t]})},this.state={activityList:[],completedActivities:[],filteredList:[],filter:"all",selectedActivity:[{},0],activitySelected:!1,tagList:["all"]},this.createActivity=this.createActivity.bind(this),this.addActivity=this.addActivity.bind(this),this.removeActivity=this.removeActivity.bind(this),this.completeActivity=this.completeActivity.bind(this),this.updateActivity=this.updateActivity.bind(this),this.onSelectClick=this.onSelectClick.bind(this),this.setActivitySelected=this.setActivitySelected.bind(this),this.filterList=this.filterList.bind(this)}render(){return(0,s.jsx)("div",{className:"h-screen p-2 bg-slate-600",children:(0,s.jsxs)("div",{className:"flex w-full h-full",children:[(0,s.jsx)("div",{className:"flex-none w-64 h-full bg-slate-700 p-6 mr-4 rounded-xl text-slate-50",children:(0,s.jsx)(o,{filter:this.state.filter,setFilter:this.setFilter,tagList:this.state.tagList})}),(0,s.jsxs)("div",{className:"flex-none w-128",children:[!1===this.state.activitySelected&&(0,s.jsxs)("div",{children:[(0,s.jsx)(n,{addActivity:this.addActivity,createActivity:this.createActivity}),(0,s.jsx)(r,{activityList:this.state.activityList,removeActivity:this.removeActivity,completeActivity:this.completeActivity,completedActivities:this.state.completedActivities,onSelectClick:this.onSelectClick,filter:this.state.filter,filterList:this.filterList})]}),!0===this.state.activitySelected&&(0,s.jsx)("div",{children:(0,s.jsx)(p,{activity:this.state.selectedActivity,updateActivity:this.updateActivity,setActivitySelected:this.setActivitySelected,addTag:this.addTag})})]})]})})}}var x=u}}]);