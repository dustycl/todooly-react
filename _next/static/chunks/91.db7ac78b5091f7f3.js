"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{6091:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var s=i(7437),a=i(2265),c=t=>(0,s.jsxs)("div",{className:"activity",children:[(0,s.jsx)("input",{type:"checkbox",name:t.item.name,onChange:e=>t.completeActivity(t.id,e),checked:t.checked}),(0,s.jsx)("div",{id:t.item.creationDate,onClick:e=>t.onSelectClick(e),children:t.item.activityName}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"muted-button activity-button-delete",onClick:()=>t.removeActivity(t.list,t.id),children:"Delete"})})]});let h=t=>{let e=t.list.map((e,i)=>(0,s.jsx)("li",{children:(0,s.jsx)(c,{id:i,item:e,removeActivity:t.removeActivity,completeActivity:t.completeActivity,onSelectClick:t.onSelectClick,list:"activityList",checked:""})},i));return(0,s.jsx)("ul",{className:"activity-list",children:e})};var l=t=>{let{activityList:e,removeActivity:i,completeActivity:a,completedActivities:c,onSelectClick:l}=t,n=[];return n="all"!==t.filter?t.filterList(e):e,(0,s.jsx)("div",{children:(0,s.jsx)(h,{list:n,removeActivity:i,completeActivity:a,onSelectClick:l})})};class n extends a.Component{render(){return(0,s.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,s.jsx)("input",{type:"text",value:this.state.text,onChange:this.handleChange}),(0,s.jsx)("button",{className:"full-button",type:"button",onClick:this.handleSubmit,children:"Add activity"})]})}constructor(t){super(t),this.handleChange=t=>{this.setState({text:t.target.value})},this.handleSubmit=t=>{t.preventDefault(),this.props.addActivity("activityList",this.props.createActivity(this.state.text)),this.setState({text:""})},this.state={text:""},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}}let d=t=>(0,s.jsx)("button",{"data-tag":t.tagName,onClick:e=>t.setFilter(e),children:t.tagName}),r=t=>{let e=t.tagList.map(e=>(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)(d,{tagName:e,setFilter:t.setFilter})},e)),i="";return i=t.hidden?"sidenav-drawer":"sidenav-drawer visible",(0,s.jsx)("ul",{id:"navbar-drawer",className:i,children:e})};var o=t=>{let[e,i]=(0,a.useState)(!0);return(0,s.jsxs)("div",{className:"sidenav",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Tags"}),(0,s.jsx)(r,{tagList:t.tagList,setFilter:t.setFilter,hidden:e})]}),(0,s.jsx)("button",{id:"nav-button",className:"nav-button",onClick:()=>i(!e),children:"Menu"})]})},v=t=>{let e=t.tagList.map((e,i)=>(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"tag",children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)("i",{id:e,className:"remove-tag-btn fas fa-times",onClick:e=>t.removeTag(e)})]})},i));return(0,s.jsx)("ul",{className:"tag-list",children:e})};class m extends a.Component{render(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("form",{onSubmit:t=>this.handleSubmit(t),children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"tags",children:"Tags"}),(0,s.jsx)("input",{type:"text",name:"newTag",id:"newTag",value:this.state.newTag,placeholder:"add tag",onChange:t=>this.handleChange(t)})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",value:"+",children:(0,s.jsx)("i",{className:"fas fa-plus"})})})]})}),(0,s.jsx)(v,{tagList:this.props.tags,removeTag:this.props.removeTag})]})}constructor(...t){super(...t),this.state={newTag:""},this.handleChange=t=>{this.setState({newTag:t.target.value})},this.handleSubmit=t=>{this.props.handleSubmit(t,this.state.newTag),this.setState({newTag:""})}}}class y extends a.Component{render(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(m,{handleSubmit:this.onTagFormSubmit,tags:this.state.tags,removeTag:this.handleRemoveTag}),(0,s.jsxs)("form",{id:"optionsForm",onSubmit:t=>this.handleSubmit(t),children:[(0,s.jsx)("label",{htmlFor:"activity-name",form:"optionsForm",children:"Activity Name"}),(0,s.jsx)("input",{type:"text",name:"activityName",id:"activity-name",form:"optionsForm",value:this.state.activityName,onChange:t=>this.handleChange(t)}),(0,s.jsx)("label",{htmlFor:"date",form:"optionsForm",children:"Date"}),(0,s.jsx)("input",{type:"date",id:"date",name:"date",value:this.state.date,form:"optionsForm",onChange:t=>this.handleChange(t)}),(0,s.jsx)("label",{htmlFor:"time",form:"optionsForm",children:"Time"}),(0,s.jsx)("input",{type:"time",id:"time",name:"time",value:this.state.time,form:"optionsForm",onChange:t=>this.handleChange(t)}),(0,s.jsx)("input",{type:"submit",value:"save",form:"optionsForm"})]})]})}constructor(t){super(t),this.handleChange=t=>{this.setState({[t.target.id]:t.target.value})},this.handleSubmit=t=>{t.preventDefault(),console.log("options saved"),this.props.updateActivity({activityName:this.state.activityName,creationDate:this.state.creationDate,tags:this.state.tags,date:this.state.date,time:this.state.time},this.state.index)},this.onTagFormSubmit=(t,e)=>{t.preventDefault(),this.setState({tags:[...this.state.tags,e]}),this.props.addTag(e)},this.handleRemoveTag=t=>{this.setState({tags:this.state.tags.filter(e=>e!==t.target.id)})},this.state={activityName:this.props.activity[0].activityName,creationDate:this.props.activity[0].creationDate,tags:[...this.props.activity[0].tags],date:this.props.activity[0].date,time:this.props.activity[0].time,index:this.props.activity[1],newTag:""},this.handleChange=this.handleChange.bind(this)}}class p extends a.Component{render(){return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"flex-row",children:[(0,s.jsx)("div",{className:"flex-small one-third",children:(0,s.jsx)(o,{setFilter:this.setFilter,tagList:this.state.tagList})}),(0,s.jsxs)("div",{className:"flex-small",children:[(0,s.jsx)("h1",{children:"Todooly"}),!1===this.state.activitySelected&&(0,s.jsxs)("div",{children:[(0,s.jsx)(n,{addActivity:this.addActivity,createActivity:this.createActivity}),(0,s.jsx)(l,{activityList:this.state.activityList,removeActivity:this.removeActivity,completeActivity:this.completeActivity,completedActivities:this.state.completedActivities,onSelectClick:this.onSelectClick,filter:this.state.filter,filterList:this.filterList})]}),!0===this.state.activitySelected&&(0,s.jsx)("div",{children:(0,s.jsx)(y,{activity:this.state.selectedActivity,updateActivity:this.updateActivity,setActivitySelected:this.setActivitySelected,addTag:this.addTag})})]})]})})}constructor(t){super(t),this.createActivity=t=>({activityName:t,creationDate:Date(),tags:[],date:"",time:""}),this.addActivity=(t,e)=>{this.state[t].includes(e)||this.setState({[t]:[...this.state[t],e]})},this.removeActivity=(t,e)=>{this.setState({[t]:this.state[t].filter((t,i)=>i!==e)})},this.filterList=t=>t.filter(t=>t.tags.includes(this.state.filter)),this.completeActivity=(t,e)=>{e.target.checked?(this.setState({completedActivities:this.state.completedActivities.concat(this.state.activityList[t])}),this.removeActivity("activityList",t)):(this.addActivity("activityList",this.state.completedActivities[t]),this.setState({completedActivities:this.state.completedActivities.filter((e,i)=>i!==t)}))},this.updateActivity=(t,e)=>{let i=[...this.state.activityList];i[e]=t,this.setState({activityList:[...i],selectedActivity:[{},0],activitySelected:!1})},this.onSelectClick=t=>{let e=0,i=this.state.activityList.filter((i,s)=>i.creationDate===t.target.id&&(e=s,!0));this.setState({selectedActivity:[i[0],e],activitySelected:!0})},this.setActivitySelected=()=>{this.setState({activitySelected:!this.state.activitySelected})},this.setFilter=t=>{this.setState({filter:t.target.dataset.tag})},this.addTag=t=>{this.state.tagList.includes(t)||this.setState({tagList:[...this.state.tagList,t]})},this.state={activityList:[],completedActivities:[],filteredList:[],filter:"all",selectedActivity:[{},0],activitySelected:!1,tagList:["all"]},this.createActivity=this.createActivity.bind(this),this.addActivity=this.addActivity.bind(this),this.removeActivity=this.removeActivity.bind(this),this.completeActivity=this.completeActivity.bind(this),this.updateActivity=this.updateActivity.bind(this),this.onSelectClick=this.onSelectClick.bind(this),this.setActivitySelected=this.setActivitySelected.bind(this),this.filterList=this.filterList.bind(this)}}var u=p}}]);